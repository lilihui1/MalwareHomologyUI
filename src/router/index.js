import Vue from 'vue'
import VueRouter from 'vue-router'
import Login from '../views/login.vue'
import Home from '../views/Home.vue'
import Register from '../views/Register.vue'
import ShowPage from '../views/showPage.vue'
import History from '../views/History.vue'
import AccountManage from '../views/AccountManage.vue'
import MessageShow from '../views/MessageShow.vue'
import UserInfo from '../views/UserInfo.vue'
import ForgetPassword from '../views/ForgetPassword.vue'

Vue.use(VueRouter)

  const routes = [
	  {
	    path: '/',
	    name: 'login',
	    component: Login
	  },
	  {
	    path: '/register',
	    name: 'register',
	    component: Register
	  },
	  {
	    path: '/forgetPassword',
	    name: 'forgetPassword',
	    component: ForgetPassword
	  },
	  {
	    path: '/userInfo',
	    name: 'userInfo',
	  		meta: { requiresAuth: true },
	    component: UserInfo
	  },
	 {
	   path: '/message',
	   name: 'message',
	   meta: { requiresAuth: true },
	   component: MessageShow
	 },
	 {
	   path: '/home',
	   name: 'homePage',
	   meta: { requiresAuth: true },
	   component: Home
	 },
	 {
	   path: '/accountManage',
	   name: 'accountManage',
	   meta: { requiresAuth: true },
	   component: AccountManage
	 },
	  {
	    path: '/showPage',
	    name: 'showPage',
		meta: { requiresAuth: true },
	    component: ShowPage,
		redirect:'/history',
		children:[
			
			{
			  path: '/history',
			  name: 'history',
			  meta: { requiresAuth: true },
			  component: History
			},
			
		]
	  }
]

const router = new VueRouter({
  mode: 'history',
  // base: process.env.BASE_URL,
  base:'/malware_homologous_analyze/',
  routes
})

export default router
