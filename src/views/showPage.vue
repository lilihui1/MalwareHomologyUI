<template>
	<div>
		<div class="headerBar">
			<h1 class="headerColor">恶意程序同源性分析系统</h1>
			<div class="headerButton">
				<el-button @click="uploadSampleClick" type="text" >上传样本</el-button>
				<el-button @click="accountManageClick" type="text" >账号管理</el-button>
			</div>
		</div>
		
		
		<el-container>
		  <el-header>
			  <el-menu
			    :default-active="$route.path"
			    class="el-menu-demo"
				router
			    mode="horizontal"
			    @select="handleSelect"
			    background-color="#636365"
			    text-color="#00aaff"
			    active-text-color="#ffd04b"> 
			    <el-menu-item index="/history">历史记录</el-menu-item>
			  </el-menu>
		  </el-header>
		  <el-main>
			  <router-view v-if="isRouterAlive"></router-view>
		  </el-main>
		</el-container>
	</div>
</template>

<script>
	export default {
		data(){
			return{
				userId:0,
				isRouterAlive: true
			}
		},
		provide () {
		    return {
		      reload: this.reload
		    }
		  },
		methods: {
			uploadSampleClick(){
				console.log("upload")
				this.$router.replace("/home");
			},
			accountManageClick(){
				console.log("account")
				this.$router.replace("/accountManage");
			},
			handleSelect(key, keyPath){
				console.log(key, keyPath);
			},
			reload () {
			      this.isRouterAlive = false
			      this.$nextTick(function () {
			      this.isRouterAlive = true
			    })
			}
		}
	}
</script>

<style>
	.headerColor{
		color: #00aaff;
	}
	.headerBar{
		
	}
	.headerButton{
		text-align: right; 
		font-size: 20px
	}
	
</style>
